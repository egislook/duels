

<div>
    <table cellspacing="0" class="textLight data-list">
    {{? it.tournaments.length>0}}
        {{~it.tournaments :t:i}}
            {{? t.state=='ended' }}
            <tr class="finished" onclick="window.open('/t/{{=t.id}}', '_self');">
            {{??}}
            <tr onclick="window.open('/t/{{=t.id}}', '_self');">
            {{?}}
                <td>
                    {{? t.buyin_type == 'free'}}
                        <div class="{{=t.buyin_type}} accept space">{{=t.buyin_type}}</div>
                    {{??}}
                    <div class="left dark space">{{=t.buyin_count}}</div>
                    <div class="{{=t.buyin_type}} space">{{=t.buyin_type}}</div>
                    {{?}}
                </td>
                <td class="data-text">
                    <div class="textBig"><div class="textSmall">tournament</div> {{=t.name}}</div>
                </td>
                {{? t.state == 'ended'}}
                    {{? t.winners}}
                        <td colspan="2">
                        {{~ t.winners :win}}
                            <img width="48" src="{{=it.u[win].avatar}}">
                        {{~}}
                        </td>
                    {{??}}
                        <td width="45">
                            <img width="48" src="{{=it.u[t.winner].avatar}}">
                        </td>
                        <td>
                            <div class="dark space">{{=it.u[t.winner].name}}</div>
                        </td>
                    {{?}}
                {{??}}
                    <td colspan="2">
                        {{? t.state == 'join' && (t.maxplayers != t.players || t.class == 'rcf')}}
                            {{? t.users.joined[it.user.steamid]}}
                                <div class="neutral space">{{= t.users.joined[it.user.steamid].key}} <div class="right textSmall">{{=t.players}}</div></div>
                            {{?? t.users.approved[it.user.steamid]}}
                                <div class="neutral space">Confirmed <div class="right textSmall">{{=t.players}}</div></div>
                            {{??}}
                                <a href="./join/{{=t.id}}">
                                    <div class="click-dark accept space">Join 
                                        <div class="right textSmall">
                                            {{? t.players == 0}}
                                                {{=t.joined}}
                                            {{??}}
                                                {{=t.players}}/{{=t.maxplayers}}
                                            {{?}}
                                        </div>    
                                    </div>
                                </a>
                            {{?}}
                        {{?? t.state == 'join' && t.maxplayers == t.players}}
                            <div class="delete space">Full <div class="right textSmall">{{=t.players}}/{{=t.maxplayers}}</div></div>
                        {{??}}
                            <div class="neutral space">In Progress</div>
                        {{?}}
                    </td>
                {{?}}
                <td class="textSmall data-text">
                    {{? t.state == 'join'}}
                        {{
                            var date = new Date();
                            var dd = date.getDate();
                            var mm = date.getMonth()+1;
                            var yyyy = date.getFullYear();
                            var h = date.getHours();
                            var m = date.getMinutes();
                            var s = date.getSeconds();
                            var time = s+(m*60)+(h*3600);
                            var end = t.time.split(":");
                            var deadline = (end[0]*3600)+(end[1]*60);
                            if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} date = yyyy+'-'+mm+'-'+dd;
                        }}
                        {{? date == t.date }}
                            {{? deadline-time > 0 }}
                                <div class="accept b-t textSmall time-left">{{=deadline-time}}</div>
                                <script> timer(); </script>
                            {{??}}
                                <div class="accept b-t textSmall">now</div>
                            {{?}}
                        {{??}}
                            <div class="accept b-t textSmall">{{=t.time}}</div>
                            <div class="textSmall">{{=t.date}}</div>
                        {{?}}
                    {{??}}
                    <div class="textSmall">{{=t.date}}</div>
                    {{?}}
                </td>
                <td>
                    {{? t.prize_type == 'specific'}}
                        <div class="{{=t.prize_type}} accept space">{{=t.prize_type}}</div>
                    {{??}}
                        <div class="right dark space">{{=t.prize_count}}</div>
                        <div class="{{=t.prize_type}} space">{{=t.prize_type}}</div>
                    {{?}}
                </td>
                {{? it.user.status == 'good'}}
                    <td>
                        <a href="./remove/{{= t.id}}">
                            <div class="delete click-dark space clear"><div class="left">delete</div></div>
                        </a>
                    </td>
                {{?}}
            </tr>
        {{~}}
    {{?}}
    </table>
</div>
  
  {{#def.test}}
  
 